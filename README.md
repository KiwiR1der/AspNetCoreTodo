# 简明 ASP.NET Core 手册

## MVC 基础

 **MVC**（模型-视图-控制器，Model-View-Controller）是一个构建 web应用 的模式，其应用几乎遍及所有的 web框架（Ruby on Rails 和 Express 就是常见的范例）以及 Angular 这样的前端 JavaScript 框架。iOS 和 Android 上的移动应用也是 MVC 的一个变种。

正如其名字所示，MVC 有三个组件：模型、视图、和控制器。**控制器**处理从客户端浏览器传入的请求，并选定相应的代码进行处理。**视图**就是模板（一般是 HTML 外加某种 Handlebars、Pug、Razor 之类的模板语言），它接收传入的数据并展示给用户。**模型**则保管着数据，要么是准备发送给视图的，要么是用户输入的。

MVC 程序里常见的模式是：

- 控制器接收请求，到数据库查找所需资料
- 控制器使用查找到的信息创建模型，并使之与一个视图绑定
- 视图在用户的浏览器里渲染并呈现
- 用户点击一个按钮或者提交一个表单，从而发送一个新的请求给控制器，重复整个处理流程

## 运用数据库

与数据库交互的代码写起来坑很多。除非你对其了如指掌，否则在程序代码里粘贴 SQL 查询字符串就是个糟糕的决定。一个 **对象-关系 映射(object-relational mapper)** （ORM）在你的代码和数据库之间添加一个抽象层，并以此简化了与数据库交互代码的编写。

## 安全和身份

安全性是任何现代 Web 应用或 API 都要重点关注的。确保用户或顾客的数据安全并免遭黑客染指，是非常重要的。这个话题所涉甚广，包括了：

- 过滤输入数据，避免 SQL注入
- 防止利用表单(form)进行的跨域(CSRF)攻击
- 使用 HTTPS(TLS)，避免在 Internet 上传输的数据被窃取
- 确保用户 输入密码 或者 通过社交媒体授权 登录时的安全性
- 设计 密码重置 或 多重身份认证流程 时，考虑到安全性的因素

ASP.NET Core Identity 是 ASP.NET Core 带来的身份系统，就像 ASP.NET Core 生态圈中的其它部分，它也是一组 NuGet 包，可以被安装在任何项目中（并且包括在默认的模板中了）。

ASP.NET Core Identity 处理用户账号的存储、散列并保存密码、还负责管理用户的角色。它支持 邮箱地址/密码 登录、多重身份验证、集成以 Google 和 Facebook 之类的身份提供者的 社交账号登录、以及借助 OAuth 2.0 和 OpenID Connect 等协议连接到其它的服务。